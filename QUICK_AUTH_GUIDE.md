# 认证模式切换快速指南

## 问题解决

你遇到的"登录了一会就自动失效"的问题已经解决！现在系统支持两种认证模式：

### 🎯 推荐解决方案：使用SDK模式

1. **访问登录页面** (`/login`)
2. **选择"SDK模式"** (推荐选项)
3. **正常登录**
4. **享受稳定的会话** - 不会轻易失效！

### 🔧 备选方案：改进的HTTP模式

如果你仍想使用HTTP模式：
1. 选择"HTTP模式"
2. 系统现在会自动检测token过期
3. 每30分钟自动检查并刷新token
4. 支持手动刷新token

## 快速测试

### 1. 登录测试
```
访问: http://localhost:5173/login
选择: SDK模式 (推荐)
登录: 使用你的账号
```

### 2. 状态监控
```
开发模式: 右下角会显示认证状态监控器
生产模式: 访问 /auth-test 查看详细状态
```

### 3. 功能测试
```
访问: http://localhost:5173/auth-test
测试: 各种认证功能和模式切换
```

## 主要改进

✅ **SDK模式**: 自动管理会话，不易失效  
✅ **HTTP模式**: 自动刷新token，定时检查  
✅ **状态监控**: 实时显示认证状态和过期时间  
✅ **模式切换**: 可以随时切换认证模式  
✅ **用户友好**: 清晰的状态提示和操作指引  

## 使用建议

1. **首选SDK模式** - 最稳定，自动管理
2. **查看状态监控** - 了解当前认证状态
3. **遇到问题时切换模式** - 灵活应对不同情况

现在你的登录会话应该非常稳定了！🎉